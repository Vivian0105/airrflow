<!--
  ~ Copyright 2013-2024, Seqera Labs
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<html>
<head>
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1">
</head>
<body>
<pre class="mermaid" style="text-align: center;">
flowchart TB
    subgraph " "
    v0["Channel.fromPath"]
    v4["Channel.fromPath"]
    v5["Channel.fromPath"]
    v6["Channel.fromPath"]
    v7["Channel.fromPath"]
    v8["Channel.fromPath"]
    v10["Channel.fromPath"]
    v14["Channel.fromList"]
    v16["Channel.fromPath"]
    v20["Channel.fromPath"]
    v25["Channel.fromPath"]
    v32["Channel.fromPath"]
    v33["Channel.fromPath"]
    v34["Channel.of"]
    v49["adapter_fasta"]
    v50["save_trimmed_fail"]
    v51["save_merged"]
    v67["primer_start"]
    v68["barcode"]
    v69["primer_maxerror"]
    v70["primer_mask_mode"]
    v71["reverse_primers"]
    v72["suffix"]
    v76["primer_start"]
    v77["barcode"]
    v78["primer_maxerror"]
    v79["primer_mask_mode"]
    v80["reverse_primers"]
    v81["suffix"]
    v91["barcode_position"]
    v101["barcode_position"]
    v224["repertoires_samplesheet"]
    v308["Channel.of"]
    v312["ch_workflow_summary"]
    v315["ch_methods_description"]
    v332["replace_names"]
    v333["sample_names"]
    end
    subgraph " "
    v9["ch_report_rmd"]
    v11["ch_report_css"]
    v15[" "]
    v30["versions"]
    v35["ch_internal_cregion"]
    v47["ch_igblast"]
    v53[" "]
    v54[" "]
    v55[" "]
    v62[" "]
    v74[" "]
    v83[" "]
    v95[" "]
    v98[" "]
    v103[" "]
    v106[" "]
    v111[" "]
    v114[" "]
    v121[" "]
    v165[" "]
    v177["ch_reference_fasta"]
    v181[" "]
    v191[" "]
    v211[" "]
    v212[" "]
    v213[" "]
    v226[" "]
    v227[" "]
    v229["ch_versions"]
    v240[" "]
    v241[" "]
    v242[" "]
    v245["ch_repertoires_cloned"]
    v284[" "]
    v294[" "]
    v301[" "]
    v302[" "]
    v335[" "]
    v336[" "]
    v337[" "]
    v339["multiqc_report"]
    end
    subgraph NFCORE_AIRRFLOW
    subgraph AIRRFLOW
    subgraph DATABASES
    v23([UNZIP_IGBLAST])
    v28([UNZIP_REFERENCE_FASTA])
    v21(( ))
    v24(( ))
    v26(( ))
    v31(( ))
    v149(( ))
    v150(( ))
    end
    subgraph SEQUENCE_ASSEMBLY
    subgraph FASTQ_INPUT_CHECK
    v37([SAMPLESHEET_CHECK])
    v42([CAT_FASTQ])
    v138(( ))
    end
    subgraph PRESTO_UMI
    v52([FASTP])
    v58([RENAME_FASTQ_UMI])
    v59([GUNZIP_UMI])
    v61([PRESTO_FILTERSEQ_UMI])
    v73([PRESTO_MASKPRIMERS_SCORE_UMI_R1])
    v82([PRESTO_MASKPRIMERS_SCORE_UMI_R2])
    v92([PRESTO_PAIRSEQ_UMI])
    v94([PRESTO_CLUSTERSETS_UMI])
    v97([PRESTO_PARSE_CLUSTER_UMI])
    v102([PRESTO_PAIRSEQ_CLUSTERSETS])
    v105([PRESTO_BUILDCONSENSUS_UMI])
    v108([PRESTO_POSTCONSENSUS_PAIRSEQ_UMI])
    v110([PRESTO_ASSEMBLEPAIRS_UMI])
    v113([FASTQC_POSTASSEMBLY_UMI])
    v116([PRESTO_PARSEHEADERS_COLLAPSE_UMI])
    v118([PRESTO_PARSEHEADERS_PRIMERS_UMI])
    v120([PRESTO_COLLAPSESEQ_UMI])
    v123([PRESTO_PARSEHEADERS_METADATA_UMI])
    v125([PRESTO_SPLITSEQ_UMI])
    v38(( ))
    v57(( ))
    v64(( ))
    v65(( ))
    v66(( ))
    v75(( ))
    v86(( ))
    v100(( ))
    v130(( ))
    v131(( ))
    v132(( ))
    v133(( ))
    v134(( ))
    v135(( ))
    v139(( ))
    end
    end
    subgraph VDJ_ANNOTATION
    v154([CHANGEO_ASSIGNGENES])
    v158([CHANGEO_MAKEDB])
    v161([FILTER_QUALITY])
    v164([CHANGEO_PARSEDB_SPLIT])
    v168([FILTER_JUNCTION_MOD3])
    v171([ADD_META_TO_TAB])
    v175(( ))
    v267(( ))
    end
    subgraph BULK_QC_AND_FILTER
    v180([COLLAPSE_DUPLICATES])
    end
    subgraph SINGLE_CELL_QC_AND_FILTERING
    v190([SINGLE_CELL_QC])
    end
    subgraph CLONAL_ANALYSIS
    v210([FIND_CLONAL_THRESHOLD])
    v225([DEFINE_CLONES_COMPUTE])
    v239([DEFINE_CLONES_REPORT])
    v201(( ))
    v214(( ))
    v215(( ))
    v230(( ))
    v243(( ))
    end
    subgraph REPERTOIRE_ANALYSIS_REPORTING
    v283([PARSE_LOGS])
    v293([REPORT_FILE_SIZE])
    v300([AIRRFLOW_REPORT])
    v90(( ))
    v155(( ))
    v277(( ))
    v278(( ))
    v279(( ))
    v280(( ))
    v296(( ))
    v298(( ))
    end
    v334([MULTIQC])
    v44(( ))
    v329(( ))
    v330(( ))
    v331(( ))
    v338(( ))
    end
    end
    v0 --> v329
    v4 --> v278
    v5 --> v279
    v6 --> v280
    v6 --> v331
    v7 --> v201
    v8 --> v9
    v10 --> v11
    v14 --> v15
    v16 --> v37
    v16 --> v277
    v20 --> v21
    v21 --> v23
    v23 --> v24
    v23 --> v31
    v23 --> v149
    v25 --> v26
    v26 --> v28
    v28 --> v24
    v28 --> v150
    v24 --> v30
    v32 --> v75
    v33 --> v66
    v34 --> v35
    v37 --> v38
    v37 --> v44
    v37 --> v138
    v38 --> v42
    v42 --> v38
    v42 --> v44
    v31 --> v47
    v49 --> v52
    v50 --> v52
    v51 --> v52
    v38 --> v52
    v52 --> v55
    v52 --> v54
    v52 --> v53
    v52 --> v44
    v52 --> v57
    v57 --> v58
    v58 --> v59
    v59 --> v61
    v59 --> v44
    v61 --> v62
    v61 --> v44
    v61 --> v64
    v61 --> v65
    v61 --> v139
    v67 --> v73
    v68 --> v73
    v69 --> v73
    v70 --> v73
    v71 --> v73
    v72 --> v73
    v64 --> v73
    v66 --> v73
    v73 --> v74
    v73 --> v44
    v73 --> v86
    v73 --> v90
    v76 --> v82
    v77 --> v82
    v78 --> v82
    v79 --> v82
    v80 --> v82
    v81 --> v82
    v65 --> v82
    v75 --> v82
    v82 --> v83
    v82 --> v44
    v82 --> v86
    v82 --> v90
    v91 --> v92
    v86 --> v92
    v92 --> v94
    v92 --> v44
    v92 --> v130
    v94 --> v97
    v94 --> v95
    v94 --> v44
    v94 --> v100
    v97 --> v102
    v97 --> v98
    v97 --> v44
    v101 --> v102
    v102 --> v105
    v102 --> v103
    v102 --> v44
    v105 --> v108
    v105 --> v106
    v105 --> v44
    v105 --> v131
    v108 --> v110
    v108 --> v44
    v108 --> v132
    v110 --> v113
    v110 --> v111
    v110 --> v116
    v110 --> v44
    v110 --> v133
    v113 --> v114
    v113 --> v44
    v116 --> v118
    v116 --> v44
    v118 --> v120
    v118 --> v44
    v120 --> v123
    v120 --> v121
    v120 --> v44
    v120 --> v134
    v123 --> v125
    v123 --> v44
    v125 --> v154
    v125 --> v44
    v125 --> v135
    v149 --> v154
    v154 --> v158
    v154 --> v44
    v154 --> v155
    v150 --> v158
    v158 --> v161
    v158 --> v44
    v158 --> v155
    v158 --> v267
    v161 --> v164
    v161 --> v44
    v161 --> v155
    v164 --> v168
    v164 --> v165
    v164 --> v44
    v164 --> v155
    v168 --> v171
    v168 --> v44
    v168 --> v155
    v138 --> v171
    v171 --> v44
    v171 --> v155
    v171 --> v175
    v150 --> v177
    v175 --> v180
    v180 --> v181
    v180 --> v44
    v180 --> v155
    v180 --> v175
    v175 --> v190
    v190 --> v191
    v190 --> v44
    v190 --> v155
    v190 --> v175
    v175 --> v210
    v201 --> v210
    v210 --> v213
    v210 --> v212
    v210 --> v211
    v210 --> v214
    v210 --> v215
    v224 --> v225
    v150 --> v225
    v175 --> v225
    v215 --> v225
    v225 --> v227
    v225 --> v226
    v225 --> v214
    v225 --> v230
    v225 --> v243
    v214 --> v229
    v150 --> v239
    v215 --> v239
    v230 --> v239
    v239 --> v242
    v239 --> v241
    v239 --> v240
    v239 --> v44
    v243 --> v245
    v90 --> v283
    v100 --> v283
    v130 --> v283
    v131 --> v283
    v132 --> v283
    v133 --> v283
    v134 --> v283
    v135 --> v283
    v139 --> v283
    v267 --> v283
    v277 --> v283
    v283 --> v284
    v283 --> v44
    v283 --> v296
    v138 --> v293
    v155 --> v293
    v293 --> v294
    v293 --> v44
    v293 --> v298
    v230 --> v300
    v278 --> v300
    v279 --> v300
    v280 --> v300
    v296 --> v300
    v298 --> v300
    v300 --> v302
    v300 --> v301
    v300 --> v44
    v308 --> v44
    v312 --> v44
    v315 --> v44
    v332 --> v334
    v333 --> v334
    v44 --> v334
    v329 --> v334
    v330 --> v334
    v331 --> v334
    v334 --> v337
    v334 --> v336
    v334 --> v335
    v334 --> v338
    v338 --> v339

</pre>
<script type="module">
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: true, maxTextSize: Number.MAX_SAFE_INTEGER, maxEdges: Number.MAX_SAFE_INTEGER });
</script>
</body>
</html>
